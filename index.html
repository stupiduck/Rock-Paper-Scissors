<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function getHumanChoice() {
            return prompt("Rock, Paper or Scissors?");
        }

        function getComputerChoice() {
            let choice = Math.floor(Math.random()*3 + 1);
            switch (choice) {
                case 1:
                    return "rock";
                    break;
                case 2:
                    return "paper";
                    break;
                case 3:
                    return "scissor"
                    break;
            }
        }

        //Declaring Player Scope Variables
        let humanScore = 0;
        let computerScore = 0;

        //Logic to play single round
        function playRound(humanChoice,ComputerChoice) {
            humanChoice = humanChoice.toLowerCase();
            if(humanChoice==="rock") {
                switch (ComputerChoice) {
                    case "scissor":
                        humanWin(humanChoice,ComputerChoice);
                        break;
                    case "paper":
                        ComputerWin(humanChoice,ComputerChoice);
                        break;
                    case "rock":
                        draw();
                        break;
                    default:
                        return -1;
                }
            } else if(humanChoice==="paper") {
                switch (ComputerChoice) {
                    case "rock":
                        humanWin(humanChoice,ComputerChoice);
                        break;
                    case "scissor":
                        ComputerWin(humanChoice,ComputerChoice);
                        break;
                    case "paper":
                        draw();
                        break;
                    default:
                        return -1;
                }
            } else if (humanChoice==="scissor") {
                switch (ComputerChoice) {
                    case "paper":
                        humanWin(humanChoice,ComputerChoice);
                        break;
                    case "rock":
                        ComputerWin(humanChoice,ComputerChoice);
                        break;
                    case "scissor":
                        draw();
                        break;
                    default:
                        return -1;
                }
            } else {
                return -1;
            }

            //function humanWin
            function humanWin(beater,getsBeat) {
                humanScore++;
                console.log("You Win! " + capitalizeFirstLetter(beater) + " beats " + capitalizeFirstLetter(getsBeat));
            }
            //function ComputerWin
            function ComputerWin(getsBeat,beater) {
                computerScore++;
                console.log("You Loose! " + capitalizeFirstLetter(beater) + " beats " + capitalizeFirstLetter(getsBeat));
            }
            //draw
            function draw(){
                console.log("It's a Draw");
            }
            function capitalizeFirstLetter(s) {
                return s.slice(0,1).toUpperCase()+s.slice(1);
            }
        }
        
        function playGame() {
            for(let i=0;i<5;i++) {
                while (playRound(getHumanChoice(),getComputerChoice())===-1){
                    console.log("Invalid Choice Retry!");
                }
            }
            console.log("Game Ends!")
            if(humanScore>computerScore) {
                console.log("You Win with "+humanScore+" "+computerScore);
            } else if (computerScore>humanScore) {
                console.log("You Loose with "+humanScore+" "+computerScore);
            } else {
                console.log("It's a draw");
            }
        }
        playGame();
    </script>
</body>
</html>